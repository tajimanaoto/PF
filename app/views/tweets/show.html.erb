<div class="container mt-2">
  <div class="row">
    <div class="col-1 mt-1">
      <%= attachment_image_tag @tweet.user, :profile_image, size:"60x60", fallback: "no_image_icon.jpg", class:"rounded-circle" %>
    </div>
    <div class="col-11 mt-3 ">
      <%= link_to @tweet.user.last_name + @tweet.user.first_name, user_path(@tweet.user.id) %>
      <div class="d-flex justify-content-between">
        <div>
          <% if current_user != @tweet.user %>
            <% if current_user.following?(@tweet.user) %>
             <%= link_to "フォロー外す", user_relationships_path(@tweet.user.id), method: :delete, class: "btn btn-primary" %>
            <% else %>
             <%= link_to "フォローする", user_relationships_path(@tweet.user.id), method: :post, class: "btn btn-success" %>
            <% end %>
          <% end %>
        </div>
        <div><%= render "favorites/favorite", tweet: @tweet %></div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <%= attachment_image_tag @tweet, :image, fallback: "no_image_icon.jpg", class:"card-img-top" %>
    </div>
    <div class="col">
      <h6>タイトル</h6>
      <h4><%= @tweet.title %></h4><br>
      <h6>見どころ・ポイント</h6><br>
      <h4><%= @tweet.description %></h4><br>
      <!-- モーダルエリアここから -->
      <button id="openModal">コメント</button>
      <section id="modalArea" class="modalArea">
         <div id="modalBg" class="modalBg"></div>
          <div class="modalWrapper">
            <div class="col">
              <%= form_with(model:[@tweet, @tweet_comment], local: true) do |f| %>
               <%= f.text_area :comment, rows:'5',placeholder: "コメントをここに" %>
               <%= f.submit "コメントする" %>
              <% end %>
            </div>
            <div id="closeModal" class="closeModal">
             ×
            </div>
          </div>
        </section>
      <!-- モーダルエリアここまで -->
      <p>コメント件数：<%= @tweet.tweet_comments.count %></p>
    </div>
  </div>
  <div class="row">
    <div id="tweet-comment-<%= @tweet.id %>"  class="col">
      <%= render "tweet_comments/index", tweet_comments: @tweet.tweet_comments %>
    </div>
  </div>
</div>
